
<!-- Bloc spÃ©cifique pour le type Actions -->
<template x-if="field.type === 'actions'">
  <div class="mt-4 space-y-4 border-t border-gray-600 pt-4">
    <h4 class="text-lg font-medium text-white">Actions Configuration</h4>

    <!-- Content -->
    <div>
      <label class="block text-sm font-medium text-gray-300 mb-2">Content</label>
      <div class="w-full bg-gray-800 text-white rounded border border-gray-600">
        <div x-ref="`actionsContentQuillField_${index}`" 
             x-init="window.initQuill($refs[`actionsContentQuillField_${index}`], (val) => field.content = (val !== undefined ? val : field.content))"
             class="bg-white text-black rounded border border-gray-600 min-h-[100px]"></div>
      </div>
      <div class="text-xs text-gray-400 mt-1">
        Use [[field_key]] to reference other form fields in the rich text editor.
      </div>
    </div>

    <!-- Buttons -->
    <div>
      <div class="flex justify-between items-center mb-2">
        <label class="block text-sm font-medium text-gray-300">Buttons</label>
        <button 
          @click="field.buttons = field.buttons || []; field.buttons.push({label: '', url: '', target: '_blank'})"
          class="bg-red-500 text-white px-2 py-1 rounded text-xs hover:bg-red-600">
          Add Button
        </button>
      </div>

      <div class="space-y-2">
        <template x-for="(btn, btnIndex) in field.buttons || []" :key="btnIndex">
          <div class="bg-gray-700 p-3 rounded border border-gray-600">
            <div class="grid grid-cols-1 gap-2">
              <div>
                <label class="block text-xs font-medium text-gray-300 mb-1">Button Label</label>
                <input type="text" 
                       x-model="btn.label" 
                       x-ref="`buttonLabel_${index}_${btnIndex}`"
                       x-init="$nextTick(() => setupAutocomplete($refs[`buttonLabel_${index}_${btnIndex}`], index))"
                       class="w-full bg-gray-600 text-white px-2 py-1 rounded text-sm border border-gray-500" 
                       placeholder="Button text">
                <div class="text-xs text-gray-400 mt-1">
                  Use [[field_key]] to reference other form fields.
                </div>
              </div>

              <div>
                <label class="block text-xs font-medium text-gray-300 mb-1">URL</label>
                <input type="text" 
                       x-model="btn.url" 
                       x-ref="`buttonUrl_${index}_${btnIndex}`"
                       x-init="$nextTick(() => setupAutocomplete($refs[`buttonUrl_${index}_${btnIndex}`], index))"
                       class="w-full bg-gray-600 text-white px-2 py-1 rounded text-sm border border-gray-500" 
                       placeholder="https://example.com">
                <div class="text-xs text-gray-400 mt-1">
                  Use [[field_key]] to reference other form fields.
                </div>
              </div>

              <div class="flex items-center justify-between">
                <label class="flex items-center space-x-2">
                  <input type="checkbox" 
                         x-model="btn.target" 
                         x-init="if (!btn.target) btn.target = '_blank'"
                         true-value="_blank"
                         false-value="_self"
                         class="rounded">
                  <span class="text-xs text-gray-300">Open in new window</span>
                </label>

                <button @click="field.buttons.splice(btnIndex, 1)" 
                        class="bg-red-600 hover:bg-red-700 text-white px-2 py-1 rounded text-xs">
                  Remove
                </button>
              </div>
            </div>
          </div>
        </template>
      </div>
    </div>

    <!-- Required Field -->
    <div class="flex items-center space-x-2">
      <input type="checkbox" 
             x-model="field.required" 
             class="form-checkbox h-4 w-4 text-red-500 bg-gray-800 border-gray-600 rounded focus:ring-red-500">
      <label class="text-sm text-gray-300">Required</label>
    </div>
  </div>
</template>
